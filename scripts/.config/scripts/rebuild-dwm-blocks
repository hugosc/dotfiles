#!/usr/bin/env bash
# Rebuild dwmblocks and dwm with screen recording support

set -e

echo "ðŸ“¦ Rebuilding dwmblocks..."
cd ~/dotfiles/dwmblocks
make clean
make
sudo make install
pkill -9 dwmblocks || true
sleep 1
~/dotfiles/dwmblocks/dwmblocks &

echo "âœ… dwmblocks rebuilt and restarted"

echo ""
echo "ðŸ“¦ Rebuilding dwm..."
cd ~/dwm
make clean
make
sudo make install

echo "âœ… dwm rebuilt"
echo ""
echo "ðŸ”„ Restarting dwm..."
# Send signal to restart dwm gracefully
pkill -HUP -f "^dwm$" || true

echo "âœ… Done! Press Alt+F2 to refresh dwm if needed"
